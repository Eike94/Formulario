<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload para Google Drive</title>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <h1>Upload para Google Drive</h1>
    <form id="uploadForm">
        <label for="file">Selecione um arquivo:</label>
        <input type="file" id="file" name="file" required><br><br>
        <button type="button" id="authenticateButton">Autenticar</button>
        <button type="button" onclick="handleUpload()">Enviar para Google Drive</button>
    </form>

    <script>
        const CLIENT_ID = '403119419604-jn15e6uanvpdut4bfeffpo44u2konkpj.apps.googleusercontent.com'; // Substitua pelo seu Client ID
        const SCOPES = 'https://www.googleapis.com/auth/drive.file';

        let accessToken = '';

        // Inicializar o cliente GIS quando a página carregar
        window.onload = () => {
            const tokenClient = google.accounts.oauth2.initTokenClient({
                client_id: CLIENT_ID,
                scope: SCOPES,
                callback: (response) => {
                    if (response.error) {
                        console.error('Erro ao obter o token:', response.error);
                    } else {
                        accessToken = response.access_token;
                        console.log('Token obtido:', accessToken);
                        alert('Autenticação bem-sucedida!');
                    }
                },
            });

            document.getElementById('authenticateButton').addEventListener('click', () => {
                tokenClient.requestAccessToken();
            });
        };

        function handleUpload() {
            if (!accessToken) {
                alert('Por favor, autentique-se primeiro.');
                return;
            }

            const fileInput = document.getElementById('file');
            const file = fileInput.files[0];

            if (!file) {
                alert('Por favor, selecione um arquivo.');
                return;
            }

            const metadata = {
                name: file.name,
                mimeType: file.type,
            };

            const formData = new FormData();
            formData.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));
            formData.append('file', file);

            fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart', {
                method: 'POST',
                headers: {
                    Authorization: `Bearer ${accessToken}`,
                },
                body: formData,
            })
            .then(response => response.json())
            .then(data => {
                console.log('Upload concluído:', data);
                alert
